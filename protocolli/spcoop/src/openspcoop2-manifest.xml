<?xml version="1.0" encoding="UTF-8"?>
<openspcoop2 xmlns="http://www.openspcoop2.org/protocol/manifest">

    <protocol name="spcoop">
    	<factory>org.openspcoop2.protocol.spcoop.SPCoopFactory</factory>
    </protocol>

    <binding>
    	<soap soap11="true" soap11_withAttachments="true" soap11_mtom="true"
    		  soap12="false" soap12_withAttachments="false" soap12_mtom="false">
   			<integrationError>
    			<internal>
    				<default httpReturnCode="500" messageType="soap" />
    			</internal>	
    			<external>
    				<default httpReturnCode="500" messageType="soap" />
    			</external>	
    		</integrationError>
    		<mediaTypeCollection>
    			<mediaType messageType="soap11">text/xml</mediaType>
    		</mediaTypeCollection>
    		<interfaces>
    			<specification type="wsdl11" schema="true" conversations="true"/>
    		</interfaces>
			<profile asyncInputOutput="true" polledInputOutput="true" />
			<functionality duplicateFilter="true" acknowledgement="true"
            				conversationIdentifier="true" deliveryOrder="true"
            				expiration="true" manifestAttachments="true"/>
    		<soapHeaderBypassMustUnderstand>
	    		<header>
	    			<localName>Intestazione</localName>
	    			<namespace>http://www.cnipa.it/schemas/2003/eGovIT/Busta1_0/</namespace>
	    		</header>
	    	</soapHeaderBypassMustUnderstand>
    	</soap>
    </binding>

    <web>
        <context name="spcoop">
        	<!-- <subContext function="PA" messageType="soap12">v2</subContext> --> <!-- es. http://server/openspcoop2/spcoop/PA/v2 -->
			<emptySubContext function="PA" messageType="soap11"/> <!-- es. http://server/openspcoop2/spcoop/PA -->
        </context> 
        <emptyContext enabled="true">
        	<!-- <subContext function="PA" messageType="soap12">v2</subContext> --> <!-- es. http://server/openspcoop2/PA/v2 -->
			<emptySubContext function="PA" messageType="soap11"/> <!-- es. http://server/openspcoop2/PA -->
        </emptyContext>
    </web>

    <registry>

        <organization authentication="false" codeIPA="true">
            <types>
            	<type name="SPC"/>
            	<type name="TEST"/>
            	<type name="AOO"/>
            </types>
        </organization>

        <service>
            <types>
                <type name="SPC"/>
                <type name="TEST"/>
                <type name="URL"/>
                <type name="WSDL"/>
                <type name="LDAP"/>
                <type name="UDDI"/>
                <type name="ebXMLRegistry"/>
            </types>
        </service>

        <versions>
            <version name="eGov1.1-lineeGuida1.1"/>
        	<version name="eGov1.1"/>
        </versions>

    </registry>

    <urlMapping type="PROPERTIES">
        <file>/spcoop-url-mapping.properties</file>
    </urlMapping>

</openspcoop2>
