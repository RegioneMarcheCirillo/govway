
<!DOCTYPE ui:composition
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
 xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich"
  xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" 
  xmlns:op2web="http://www.openspcoop2.org/web/taglib/jsf2" xmlns:c="http://java.sun.com/jsp/jstl/core">
	<f:loadBundle var="commonsMsg" basename="commonsMessages"/>
	
	<c:if test="#{empty required}">
		<c:set var="required" value="false"/>
	</c:if>

	<op2web:prop label="#{field.label}" required="#{field.required == 'true'}" rendered="#{field.rendered == 'true'}">
		<c:if test="#{empty field.fieldsToUpdate}">
			<!-- 			<h:selectOneMenu value="#{field.value}" id="input_#{field.name}" -->
			<!-- 				style="width:412px;" rendered="#{field.rendered == 'true'}"> actionListener="#{field.fieldSelected}" -->
			<!-- 				<f:selectItems value="#{field.elencoSelectItems}" /> -->
			<!-- 			</h:selectOneMenu> -->
			<rich:select xmlns="" id="input_#{field.name}Combo" style="#{field.style}" styleClass="#{field.styleClass}" value="#{field.value}" valueChangeListener="#{field.valueChanged}"
				 converter="selectItemConverter" directInputSuggestions="true" defaultLabel="#{commonsMsg['inputSelect.component.seleziona']} #{field.label}" 
				 	enableManualInput="#{field.enableManualInput}" listWidth="#{field.selectItemsWidth}" required="#{field.required}" requiredMessage="#{field.requiredMessage}">
				<f:selectItems xmlns="http://www.w3.org/1999/xhtml" value="#{field.elencoSelectItems}"/>
			</rich:select>
		</c:if>

		<c:if test="#{!empty field.fieldsToUpdate}">
			<rich:select xmlns="" id="input_#{field.name}Combo" value="#{field.value}" converter="selectItemConverter" 
				directInputSuggestions="true" style="#{field.style}" styleClass="#{field.styleClass}"  valueChangeListener="#{field.valueChanged}"
					defaultLabel="#{commonsMsg['inputSelect.component.seleziona']} #{field.label}" enableManualInput="#{field.enableManualInput}" 
						required="#{field.required}" listWidth="#{field.selectItemsWidth}" requiredMessage="#{field.requiredMessage}">
				<f:selectItems xmlns="http://www.w3.org/1999/xhtml" value="#{field.elencoSelectItems}"/>
				<a4j:ajax status="mainStatus" event="selectitem" render="#{field.fieldsToUpdate}" listener="#{field.listener}" execute="#{field.execute}"/>
			</rich:select>
		</c:if>

	</op2web:prop>
</ui:composition>