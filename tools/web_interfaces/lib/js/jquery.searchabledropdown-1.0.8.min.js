!function(e){var t=function(t){var n=e[t]={};return e.fn[t]=function(t){t=e.extend({},n.defaults,t);var s=this.size();return this.each(function(e){n.execute.call(this,t,s-e)})},n}("searchable");t.defaults={maxListSize:100,maxMultiMatch:50,exactMatch:!1,wildcards:!0,ignoreCase:!0,warnNoMatch:"--",latency:200,zIndex:"auto",disableInput:!1},t.execute=function(t,n){var s=null,i=null,o=null;if(e.browser.msie&&parseInt(jQuery.browser.version)<7)return this;if("SELECT"!=this.nodeName||this.size>1)return this;var r=e(this),d=!1;e.browser.chrome=/chrome/.test(navigator.userAgent.toLowerCase()),e.browser.chrome&&(e.browser.safari=!1),e.meta&&(t=e.extend({},options,r.data()));var c=e("<div/>");c.attr("id",this.id+"_wrapper");var a=e("<div/>");a.attr("id",this.id+"_overlay");var l=e("<input/>");l.attr("id",this.id+"_input");var u=e("<div/>");u.attr("id",this.id+"_selector");var h={optionLength:function(){return e(u).children(".combobox-item").length},options:function(){return e(u).children(".combobox-item")},selected:function(){var t=e(u).children(".combobox-item-selected");if(t&&t.length>0)return t;var n=this.selectedIndex();return t=e(u).children(".combobox-item").get(n)},selectedIndex:function(t){return t>-1?(e(e(u).children(".combobox-item").get(u.get(0).selectedIndex)).removeClass("combobox-item-selected"),u.get(0).selectedIndex=t,e(e(u).children(".combobox-item").get(u.get(0).selectedIndex)).addClass("combobox-item-selected"),u.get(0).selectedIndex):u.get(0).selectedIndex},reset:function(){var t=r.get(0).length,n=r.get(0).selectedIndex;u.empty();for(var s=0;s<t;s++){var i=b(e(r.get(0).options[s]),s,s,"");u.append(i),i.get(0).addEventListener("click",function(e){})}this.selectedIndex(n)}};!function(){r.css("text-decoration","none"),r.width(r.outerWidth()),r.height(r.outerHeight()),c.css("position","relative"),c.css("width",r.outerWidth()),c.css("margin-left","0px"),c.css("display","inline-flex"),e.browser.msie&&c.css("z-index",n);a.css({position:"absolute",top:0,left:0,width:r.outerWidth()-1,height:r.outerHeight(),"background-color":"transparent"}),l.attr("type","text"),l.hide(),l.height(r.outerHeight()-1),l.addClass("inputLinkLong"),l.css({position:"absolute",top:0,left:0,margin:"1px",padding:"0px","outline-style":"none","border-style":"solid","border-bottom-style":"none","border-color":"transparent"});var s=new Array;s.push("border-left-width"),s.push("border-top-width"),s.push("font-size"),s.push("font-stretch"),s.push("font-variant"),s.push("font-weight"),s.push("color"),s.push("text-align"),s.push("text-indent"),s.push("text-shadow"),s.push("text-transform"),s.push("padding-left"),s.push("padding-top");for(var i=0;i<s.length;i++)l.css(s[i],r.css(s[i]));if(e.browser.msie&&parseInt(jQuery.browser.version)<8)l.css("padding","0px"),l.css("padding-left","3px"),l.css("border-left-width","2px"),l.css("border-top-width","3px");else if(e.browser.chrome)l.height(r.innerHeight()),l.css("text-transform","none"),l.css("padding-left",y(l.css("padding-left"))+3),l.css("padding-top",0);else if(e.browser.safari)l.height(r.innerHeight()),l.css("padding-top",2),l.css("padding-left",3),l.css("text-transform","none");else if(e.browser.opera){l.height(r.innerHeight());var o=y(r.css("padding-left"));l.css("padding-left",1==o?o+1:o),l.css("padding-top",0)}else e.browser.mozilla?(l.css("padding-top","0px"),l.css("padding-left",y(r.css("padding-left"))+3)):(l.css("padding-left",y(r.css("padding-left"))+3),l.css("padding-top",y(r.css("padding-top"))+1));var d=y(r.css("padding-left"))+y(r.css("padding-right"))+y(r.css("border-left-width"))+y(r.css("border-left-width"))+16;l.width(r.outerWidth()-d);var h=r.css("width"),p=r.outerWidth();r.css("width","auto"),p=p>r.outerWidth()?p:r.outerWidth(),r.css("width",h),u.hide(),u.addClass("combobox-list"),u.css({top:r.outerHeight(),left:0,width:p});var f=/^\d+$/.test(r.css("z-index"))?r.css("z-index"):1;t.zIndex&&/^\d+$/.test(t.zIndex)&&(f=t.zIndex);a.css("z-index",f.toString(10)),l.css("z-index",(f+1).toString(10)),u.css("z-index",(f+2).toString(10)),r.wrap(c),r.after(a),r.after(l),r.after(u)}();var p=!1;function f(e,n,s){if(r.attr("disabled"))return!1;void 0===s&&(d=!d),h.reset(),v(),a.addClass("combobox-overlay-focus"),n&&u.show(),t.disableInput||(l.show(),l.focus(),l.select()),void 0!==e&&e.stopPropagation()}function g(t,n){d=!1,x(),l.hide(),u.hide(),a.removeClass("combobox-overlay-focus"),n&&function(){if(h.selectedIndex()<0)return;var t=e(h.selected()).children("input[id*='divOpt_origIdx_']").val();r.get(0).selectedIndex=t,r.change()}(),console.log("check:"+t.target),void 0!==t&&t.stopPropagation()}function x(){null!=s&&clearTimeout(s)}function v(){h.selectedIndex()>-1?l.val(u.find(".combobox-item-selected").text()):l.val(r.find(":selected").text())}function b(t,n,s,i){var o=t.text();i&&i.length>0&&(o=createHighlightItem(t.text(),i));var r=t.val(),d=t.attr("selected"),c=e("<div>"+o+"</div>");c.attr("id","divOpt_"+n),c.addClass("combobox-item");var a=e("<input/>");a.attr("type","hidden"),a.attr("value",r),a.attr("id","divOpt_value_"+n),c.append(a);var l=e("<input/>");l.attr("type","hidden"),l.attr("value",t.text()),l.attr("id","divOpt_origLabel_"+n),c.append(l);var u=e("<input/>");return u.attr("type","hidden"),u.attr("value",s),u.attr("id","divOpt_origIdx_"+n),c.append(u),d&&c.addClass("combobox-item-selected"),c.hover(m,w),c}function m(t){var n,s,i=(n=e(this).attr("id"),s=n.indexOf("_"),parseInt(n.substr(s+1)));h.selectedIndex(i)}function w(t){e(this).removeClass("combobox-item-selected")}function I(){if(i!=o){var n=0;i=o,u.hide(),u.empty();var d=function(e){var t=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","^","$"].join("|\\")+")","g");return e.replace(t,"\\$1")}(o);t.exactMatch&&(d="^"+d),t.wildcards&&(d=(d=d.replace(/\\\*/g,".*")).replace(/\\\?/g,"."));var c=null;t.ignoreCase&&(c="i"),o=new RegExp(d,c);for(var a=0;a<r.get(0).length;a++)if(0==o.length||o.test(r.get(0).options[a].text)){var l=b(e(r.get(0).options[a]),n,a,i);u.append(l),l.get(0).addEventListener("click",function(e){}),n++}n>=1&&h.selectedIndex(0),u.show(),s=null}else s=null}function y(e){try{if(e=parseFloat(e.replace(/[\s]*px/,"")),!isNaN(e))return e}catch(e){}return 0}a.mouseout(function(){p=!1}),u.mouseover(function(){p=!0}),u.mouseout(function(){p=!1}),l.click(function(e){d?g(e,!1):f(e,!0)}),l.blur(function(e){g(e,p)}),r.keydown(function(e){9==e.keyCode||e.shiftKey||e.ctrlKey||e.altKey||l.click()}),r.click(function(e){u.focus()}),u.click(function(e){h.selectedIndex()<0||g(e,!0)}),u.focus(function(e){l.focus()}),u.blur(function(e){p||g(e,!0)}),u.mousemove(function(e){}),a.click(function(e){d?g(e,!0):f(e,!0)}),l.keyup(function(n){if(jQuery.inArray(n.keyCode,new Array(9,13,16,33,34,35,36,38,40))>-1)return!0;o=e.trim(l.val().toLowerCase()),x(),s=setTimeout(I,t.latency)}),l.keydown(function(e){if(9==e.keyCode&&g(e,!0),!(e.shiftKey||e.ctrlKey||e.altKey)){switch(e.keyCode){case 13:g(e,!0),r.focus();break;case 27:g(e),r.focus();break;case 33:h.selectedIndex()-8>0?h.selectedIndex(h.selectedIndex()-8):h.selectedIndex(0),v();break;case 34:h.selectedIndex()+8<h.optionLength()-1?h.selectedIndex(h.selectedIndex()+8):h.selectedIndex(h.optionLength()-1),v();break;case 38:h.selectedIndex()>0&&(h.selectedIndex(h.selectedIndex()-1),v());break;case 40:h.selectedIndex()<h.optionLength()-1&&(h.selectedIndex(h.selectedIndex()+1),v());break;default:return!0}return!1}})}}(jQuery);