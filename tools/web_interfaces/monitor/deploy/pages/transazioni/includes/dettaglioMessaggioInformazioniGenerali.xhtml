<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:link="http://www.link.it"
    xmlns:c="http://java.sun.com/jstl/core">
    <f:loadBundle var="msg" basename="messages" /> 
    
    <a4j:outputPanel layout="block" id="informazioniGenerali">
    
	    <link:fieldset legend="Informazioni Generali" rendered="#{true}" collapsible="false" closed="false">
	    
	 		<h:panelGrid id="panelDettaglioPrincipale" columns="2" styleClass="borderSpacingTable" columnClasses="labelAllineataDxFixedWidth130,valueAllineataSx" >
	 		
	 			<h:outputLabel value="Esito" id="esito-iconLabel" styleClass="outputFieldLabel #{dettagliBean.dettaglio.esitoStyleClass}"/>
				<h:outputText id="outEsito" value="#{dettagliBean.dettaglio.esitoLabel}" />
							
				<h:outputLabel styleClass="outputFieldLabel" id="outLabelTipologia" value="Tipologia" rendered="#{not empty dettagliBean.tipologiaConProtocollo}" />
				<h:outputText id="outTipologia" value="#{dettagliBean.tipologiaConProtocollo}" rendered="#{not empty dettagliBean.tipologiaConProtocollo}" />
				
				<h:outputLabel styleClass="outputFieldLabel" id="outLabelOp" value="Operazione" rendered="#{not empty dettagliBean.dettaglio.operazioneIm}"/>
				<h:outputText id="outOp" value="#{dettagliBean.dettaglio.operazioneIm}" rendered="#{not empty dettagliBean.dettaglio.operazioneIm}"/>
				
				<h:outputLabel styleClass="outputFieldLabel" id="outLabelFruitore" value="Fruitore" rendered="#{not empty dettagliBean.dettaglio.nomeSoggettoFruitore}"/>
				<h:outputText id="outFruitore" value="#{dettagliBean.dettaglio.soggettoFruitore}" rendered="#{not empty dettagliBean.dettaglio.nomeSoggettoFruitore}"/>
				
				<h:outputLabel styleClass="outputFieldLabel" id="outLabelErogatore" value="Erogatore" rendered="#{not empty dettagliBean.dettaglio.nomeSoggettoErogatore}"/>
				<h:outputText id="outErogatore" value="#{dettagliBean.dettaglio.soggettoErogatore}" rendered="#{not empty dettagliBean.dettaglio.nomeSoggettoErogatore}"/>
				
				<h:outputLabel styleClass="outputFieldLabel" id="outLabelServizio" value="#{msg['commons.servizio.label']} #{dettagliBean.dettaglio.tipoApiLabel}" rendered="#{not empty dettagliBean.dettaglio.nomeServizio}"/>
				<h:outputText id="outServizio" value="#{dettagliBean.dettaglio.servizio}" rendered="#{not empty dettagliBean.dettaglio.nomeServizio}"/>
				
				<h:outputLabel styleClass="outputFieldLabel" id="outLabelAzione" value="Azione" rendered="#{not empty dettagliBean.dettaglio.azione}"/>
				<h:outputText id="outAzione" value="#{dettagliBean.dettaglio.azione}" rendered="#{not empty dettagliBean.dettaglio.azione}"/>
				
				<h:outputLabel styleClass="outputFieldLabel" id="outLabelGruppi" value="Tags" rendered="#{not empty dettagliBean.dettaglio.gruppiHTML}" />
				<h:outputText id="outGruppi" value="#{dettagliBean.dettaglio.gruppiHTML}" escape="false" rendered="#{not empty dettagliBean.dettaglio.gruppiHTML}" />
										
				<h:outputLabel styleClass="outputFieldLabel" id="outLabelProfColl" value="Profilo Collaborazione" rendered="#{not empty dettagliBean.dettaglio.profiloCollaborazioneProt or not empty dettagliBean.dettaglio.profiloCollaborazioneOp2}"/>
				<h:outputText id="outProfCollProt" value="#{dettagliBean.dettaglio.profiloCollaborazioneProt}" rendered="#{not empty dettagliBean.dettaglio.profiloCollaborazioneProt}"/>
				<h:outputText id="outProfCollOp2" value="#{dettagliBean.dettaglio.profiloCollaborazioneOp2}" rendered="#{empty dettagliBean.dettaglio.profiloCollaborazioneProt and not empty dettagliBean.dettaglio.profiloCollaborazioneOp2}"/>
				
				<h:outputLabel styleClass="outputFieldCollaborazione" id="outLabelCollaborazione" value="ID Collaborazione" rendered="#{not empty dettagliBean.dettaglio.idCollaborazione}"/>
				<h:outputText id="outCollaborazione" value="#{dettagliBean.dettaglio.idCollaborazione}" rendered="#{not empty dettagliBean.dettaglio.idCollaborazione}"/>
				
				<h:outputLabel styleClass="outputFieldRiferimentoIdRichiesta" id="outLabelRiferimentoIdRichiesta" value="Riferimento ID Richiesta" rendered="#{not empty dettagliBean.dettaglio.idAsincrono}"/>
				<h:outputText id="outRiferimentoIdRichiesta" value="#{dettagliBean.dettaglio.idAsincrono}" rendered="#{not empty dettagliBean.dettaglio.idAsincrono}"/>
											
				<h:outputLabel styleClass="outputFieldLabel" id="outLabelCorrApp" value="ID Applicativo Richiesta" rendered="#{not empty dettagliBean.dettaglio.idCorrelazioneApplicativa}"/>
				<h:outputText id="outCorrApp" value="#{dettagliBean.dettaglio.idCorrelazioneApplicativa}" rendered="#{not empty dettagliBean.dettaglio.idCorrelazioneApplicativa}"/>
										
				<h:outputLabel styleClass="outputFieldLabel" id="outLabelCorrAppRisp" value="ID Applicativo Risposta" rendered="#{not empty dettagliBean.dettaglio.idCorrelazioneApplicativaRisposta}"/>
				<h:outputText id="outCorrAppRisp" value="#{dettagliBean.dettaglio.idCorrelazioneApplicativaRisposta}" rendered="#{not empty dettagliBean.dettaglio.idCorrelazioneApplicativaRisposta}"/>
										
				<h:outputLabel styleClass="outputFieldLabel" id="outLabelEsitoContesto" value="Contesto" rendered="#{dettagliBean.dettaglio.showContesto and not empty dettagliBean.dettaglio.esitoContesto}"/>
				<h:outputText id="outEsitoContesto" value="#{dettagliBean.dettaglio.esitoContestoLabel}" 
					rendered="#{dettagliBean.dettaglio.showContesto and not empty dettagliBean.dettaglio.esitoContesto}"/>
								
			</h:panelGrid>
			
		</link:fieldset>
		
		<rich:spacer id="spacerInformazioniMittente" height="10px"/>
					
		<link:fieldset legend="Informazioni Mittente"
			rendered="#{true}" collapsible="false" closed="false">
				<h:panelGrid id="panelDettaglioMittente" columns="2" styleClass="borderSpacingTable" columnClasses="labelAllineataDxFixedWidth130,valueAllineataSx" >
			
					<h:outputLabel styleClass="outputFieldLabel" id="outLabelServizioApplicativoFruitore" value="Applicativo Fruitore" rendered="#{not empty dettagliBean.dettaglio.servizioApplicativoFruitore}"/>
					<h:outputText id="outServizioApplicativoFruitore" value="#{dettagliBean.dettaglio.servizioApplicativoFruitore}" rendered="#{not empty dettagliBean.dettaglio.servizioApplicativoFruitore}"/>
					
					<h:outputLabel styleClass="outputFieldLabel" id="outLabelTrasportoMittente" value="ID Autenticato" rendered="#{not empty dettagliBean.dettaglio.trasportoMittente}" />
					<h:outputText id="outTrasportoMittente" value="#{dettagliBean.dettaglio.trasportoMittenteLabel}" rendered="#{not empty dettagliBean.dettaglio.trasportoMittente and not dettagliBean.visualizzaTextAreaTrasportoMittente}" />
					<h:inputTextarea id="outTrasportoMittenteTextArea" value="#{dettagliBean.dettaglio.trasportoMittenteLabel}" readonly="true"  cols="60" rows="3" styleClass="inputLinkLong" style="width:auto;"
						rendered="#{not empty dettagliBean.dettaglio.trasportoMittente and dettagliBean.visualizzaTextAreaTrasportoMittente}" />
					
					<h:outputLabel styleClass="outputFieldLabel" id="outLabelTipoRichiesta" value="Metodo HTTP" rendered="#{not empty dettagliBean.dettaglio.tipoRichiesta}" />
					<h:outputText id="outTipoRichiesta" value="#{dettagliBean.dettaglio.tipoRichiesta}" rendered="#{not empty dettagliBean.dettaglio.tipoRichiesta}" />
					
					<h:outputLabel styleClass="outputFieldLabel" id="outLabelUrlInvocazione" value="URL Invocazione" rendered="#{not empty dettagliBean.dettaglio.urlInvocazione}"/>
					<h:outputText id="outUrlInvocazione" value="#{dettagliBean.dettaglio.urlInvocazione}" rendered="#{not empty dettagliBean.dettaglio.urlInvocazione and not dettagliBean.visualizzaTextAreaUrlInvocazione}"/>
					<h:inputTextarea id="outUrlInvocazioneTextArea" value="#{dettagliBean.dettaglio.urlInvocazione}" readonly="true"  cols="60" rows="6" styleClass="inputLinkLong" style="width:auto;"
						rendered="#{not empty dettagliBean.dettaglio.urlInvocazione and dettagliBean.visualizzaTextAreaUrlInvocazione}" />
					
					<h:outputLabel styleClass="outputFieldLabel" id="outLabelIndirizzoClient" value="Client IP" rendered="#{not empty dettagliBean.dettaglio.socketClientAddress}" />
					<h:outputText id="outIndirizzoClient" value="#{dettagliBean.dettaglio.socketClientAddress}" rendered="#{not empty dettagliBean.dettaglio.socketClientAddress}" />
					
					<h:outputLabel styleClass="outputFieldLabel" id="outLabelXForwardedFor" value="X-Forwarded-For" rendered="#{not empty dettagliBean.dettaglio.transportClientAddress}" />
					<h:outputText id="outXForwardedFor" value="#{dettagliBean.dettaglio.transportClientAddress}" rendered="#{not empty dettagliBean.dettaglio.transportClientAddress}" />
				
					<h:outputLabel styleClass="outputFieldLabel" id="outLabelCodiceRispostaUscita" value="Codice Risposta Client" rendered="#{not empty dettagliBean.dettaglio.codiceRispostaUscita}"/>
					<h:outputText id="outCodiceRispostaUscita" value="#{dettagliBean.dettaglio.codiceRispostaUscita}" rendered="#{not empty dettagliBean.dettaglio.codiceRispostaUscita}"/>
					
					<h:outputLabel styleClass="outputFieldLabel" id="outLabelCredenziali" value="Credenziali" rendered="#{not empty dettagliBean.textCredenziali}"/>
					<h:outputText id="outCredenziali" value="#{dettagliBean.textCredenziali}" rendered="#{not empty dettagliBean.textCredenziali and not dettagliBean.visualizzaTextAreaCredenziali}" />
					<h:inputTextarea id="outCredenzialiTextArea" value="#{dettagliBean.textCredenziali}" readonly="true"  cols="60" rows="3" styleClass="inputLinkLong" style="width:auto;"
						rendered="#{not empty dettagliBean.textCredenziali and dettagliBean.visualizzaTextAreaCredenziali}" />
					
					
					<h:outputLabel styleClass="outputFieldLabel" value="" id="idTokenInfoSubtitleLabel" 
						rendered="#{not empty dettagliBean.dettaglio.tokenIssuer or not empty dettagliBean.dettaglio.tokenClientId or not empty dettagliBean.dettaglio.tokenSubject or not empty dettagliBean.dettaglio.tokenUsername or not empty dettagliBean.dettaglio.tokenMail or not empty dettagliBean.dettaglio.tokenInfo}"
						/>
					<a4j:outputPanel layout="block" styleClass="subtitle-nopaddingleft-nomarginleft"
						rendered="#{not empty dettagliBean.dettaglio.tokenIssuer or not empty dettagliBean.dettaglio.tokenClientId or not empty dettagliBean.dettaglio.tokenSubject or not empty dettagliBean.dettaglio.tokenUsername or not empty dettagliBean.dettaglio.tokenMail or not empty dettagliBean.dettaglio.tokenInfo}"
					>	
						<h:outputText id="idTokenInfo" value="#{msg['commons.tokenInfo.label']}" styleClass="subtitle-nopaddingleft-nomarginleft" />
					</a4j:outputPanel>
			
					<h:outputLabel styleClass="outputFieldLabel" id="outLabelTokenIssuer" value="Issuer" rendered="#{not empty dettagliBean.dettaglio.tokenIssuer}"/>
					<h:outputText id="outTokenIssuer" value="#{dettagliBean.dettaglio.tokenIssuerLabel}" rendered="#{not empty dettagliBean.dettaglio.tokenIssuer}"/>
					
					<h:outputLabel styleClass="outputFieldLabel" id="outLabelTokenClientId" value="Client ID" rendered="#{not empty dettagliBean.dettaglio.tokenClientId}"/>
					<h:outputText id="outTokenClientId" value="#{dettagliBean.dettaglio.tokenClientIdLabel}" rendered="#{not empty dettagliBean.dettaglio.tokenClientId}"/>
					
					<h:outputLabel styleClass="outputFieldLabel" id="outLabelTokenSubject" value="Subject" rendered="#{not empty dettagliBean.dettaglio.tokenSubject}"/>
					<h:outputText id="outTokenSubject" value="#{dettagliBean.dettaglio.tokenSubjectLabel}" rendered="#{not empty dettagliBean.dettaglio.tokenSubject}"/>
					
					<h:outputLabel styleClass="outputFieldLabel" id="outLabelTokenUsername" value="Username" rendered="#{not empty dettagliBean.dettaglio.tokenUsername}"/>
					<h:outputText id="outTokenUsername" value="#{dettagliBean.dettaglio.tokenUsernameLabel}" rendered="#{not empty dettagliBean.dettaglio.tokenUsername}"/>
					
					<h:outputLabel styleClass="outputFieldLabel" id="outLabelTokenEmail" value="eMail" rendered="#{not empty dettagliBean.dettaglio.tokenMail}"/>
					<h:outputText id="outTokenEmail" value="#{dettagliBean.dettaglio.tokenMailLabel}" rendered="#{not empty dettagliBean.dettaglio.tokenMail}"/>
					
					<h:outputLabel id="outLabelTokenInfo" styleClass="outputFieldLabel" value="#{msg['commons.tokenInfo.label']}" rendered="#{not empty dettagliBean.dettaglio.tokenInfo}"/>
					<h:panelGroup id="panelGroupTokenInfo" rendered="#{not empty dettagliBean.dettaglio.tokenInfo}">
						<h:form id="formTokenInfo">
	                        <a4j:htmlCommandLink id="tokenInfo-iconLink"
	                                                         styleClass="icon-details"
	                                                         value="Visualizza"
	                                                         rendered="#{not empty dettagliBean.dettaglio.tokenInfo}"
	                                                         action="tokenInfo">
	                         	<f:setPropertyActionListener value="#{dettagliBean.idTransazione}" target="#{dettagliBean.idTransazione}"/>
	                        	 <f:setPropertyActionListener value="#{true}" target="#{dettagliBean.isRisposta}"/>
	                         	<f:setPropertyActionListener value="#{dettagliBean.idEgov}" target="#{dettagliBean.idEgov}"/>
	                         	<f:setPropertyActionListener value="#{dettagliBean.selectedTab}" target="#{dettagliBean.selectedTab}"/>
	               			</a4j:htmlCommandLink>
						</h:form>
					</h:panelGroup>	
				
				</h:panelGrid>
			
		</link:fieldset>
    
    </a4j:outputPanel>
    
 
</ui:composition>
