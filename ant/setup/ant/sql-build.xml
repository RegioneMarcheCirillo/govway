
<project name="setup-sql" basedir=".">
	
	<description>
        	SETUP SQL
	</description>

	<import file="../../commons/utils.xml" />

	<target name="sql_settings">
		
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="@TIPO_DATABASE@"/>
			<param name="value" value="${antinstaller_tipo_database}"/>
		</antcall>
		
		<!-- BugFix OP-445 -->
		<!--
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="org.govway.datasource.console"/>
			<param name="value" value="org.govway.datasource"/>
		</antcall>
		-->
		
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="'java:/comp/env/org.govway.datasource.console'"/>
			<param name="value" value="'${datasource_console_name}'"/>
		</antcall>
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="'org.govway.datasource.console'"/>
			<param name="value" value="'${datasource_console_name}'"/>
		</antcall>
		
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="'java:/comp/env/org.govway.datasource'"/>
			<param name="value" value="'${datasource_pdd_name}'"/>
		</antcall>
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="'org.govway.datasource'"/>
			<param name="value" value="'${datasource_pdd_name}'"/>
		</antcall>
		
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="@NOME_SOGGETTO@"/>
			<param name="value" value="${antinstaller_nomesoggetto}"/>
		</antcall>
		
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="@DATABASE@"/>
			<param name="value" value="${antinstaller_dbname}"/>
		</antcall>
			
	</target>
	
	<target name="sql_settings_users">
	
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="INSERT INTO users"/>
			<param name="value" value="-- INSERT INTO users"/>
		</antcall>

		<concat destfile="${file}" append="yes" >
			<header filtering="no" trimleading="yes">
	
-- Utenza govwayConsole
							      	
			</header>					
			<filelist dir="${tmp_sql}"
				files="init_utenzaPddConsole.sql"/>
		</concat>
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="@PDDCONSOLE_USERNAME@"/>
			<param name="value" value="${antinstaller_pddconsole_username}"/>
		</antcall>
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="@PDDCONSOLE_PASSWORD@"/>
			<param name="value" value="${antinstaller_pddconsole_password_md5}"/>
		</antcall>

		<concat destfile="${file}" append="yes" >
			<header filtering="no" trimleading="yes">
	
-- Utenza govwayMonitor
							      	
			</header>					
			<filelist dir="${tmp_sql}"
				files="init_utenzaPddMonitor.sql"/>
		</concat>
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="@PDDMONITOR_USERNAME@"/>
			<param name="value" value="${antinstaller_pddmonitor_username}"/>
		</antcall>
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="@PDDMONITOR_PASSWORD@"/>
			<param name="value" value="${antinstaller_pddmonitor_password_md5}"/>
		</antcall>
	</target>
	
	<target name="sql_settings_by_protocol">
					
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="@NOME_SOGGETTO@"/>
			<param name="value" value="${sql_nome}"/>
		</antcall>
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="@TIPO_SOGGETTO@"/>
			<param name="value" value="${sql_tipo}"/>
		</antcall>
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="@IDPORTA_SOGGETTO@"/>
			<param name="value" value="${sql_idporta}"/>
		</antcall>
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="@CODICE_IPA@"/>
			<param name="value" value="${sql_codiceipa}"/>
		</antcall>
		<antcall target="replace_token">
		    <param name="file" value="${file}"/>
			<param name="token" value="@VERSIONE_PROTOCOLLO@"/>
			<param name="value" value="${sql_protocollo_versione}"/>
		</antcall>
	
	</target>

	<target name="_sql_settings_installer_properties">

		<property name="fileSqlProps" value="${tmp_sql}/InstallerProperties.sql" />

		<concat destfile="${fileSqlProps}" append="no" >
-- Informazioni sull'installazione

INSERT INTO generic_properties (nome, descrizione, tipologia, tipo) VALUES ('@ID@','Versione: @VERSIONE@, Data: @DATA@, Modalità Installazione: @TIPO@','installer','@TIPO@');
</concat>
		<tstamp>
			<format property="DATA" pattern="yyyy-MM-dd" />
			<format property="TIME" pattern="HH:mm:ss" />
		</tstamp>
		<property name="ID" value="${antinstaller_versione_attuale}-${DATA}-${TIME}"/>
		<property name="SELECT_ID" value="(select id from generic_properties where nome='${ID}')"/>
		<replace file="${fileSqlProps}" token="@ID@" value="${ID}"/>
		<replace file="${fileSqlProps}" token="@VERSIONE@" value="${antinstaller_versione_attuale}"/>
		<replace file="${fileSqlProps}" token="@DATA@" value="${DATA}"/>
		<replace file="${fileSqlProps}" token="@TIPO@" value="${antinstaller_modalita_installazione}"/>
		
		<!-- 
			AAA-BBB 
			AAA: identificativo della pagina
			BBB: identificativo della proprieta
		-->

		<!-- Modalità Installazione: 000 -->

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '000-000:sezione', 'Modalità Installazione');
</concat>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '000-001:Modalità:antinstaller_modalita_installazione', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_modalita_installazione}"/>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '000-002:Versione Attuale:antinstaller_versione_attuale', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_versione_attuale}"/>

		<!-- Informazioni Prodotto: 001 -->

		<if>
			<not>
				<equals arg1="${antinstaller_modalita_installazione}" arg2="nuova"/>
			</not>
			<then>
				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '001-000:sezione', 'Informazioni Prodotto');
</concat>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '001-001:Versione Precedente:antinstaller_versione_precedente', '@VALORE@');
				</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_versione_precedente}"/>
			</then>
		</if>

		<!-- Informazioni Preliminari: 002 -->

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '002-000:sezione', 'Informazioni Preliminari');
</concat>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '002-001:Directory di lavoro:antinstaller_directory_lavoro_openspcoop', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_directory_lavoro_openspcoop}"/>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '002-002:Directory di log:antinstaller_directory_log_openspcoop', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_directory_log_openspcoop}"/>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '002-003:Application Server:antinstaller_as', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_as}"/>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '002-004:DBMS:antinstaller_tipo_database', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_tipo_database}"/>

		<!-- Configurazioni DBMS: 003 -->

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '003-000:sezione', 'Configurazioni DBMS');
</concat>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '003-001:Driver JDBC:antinstaller_driver_jdbc', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_driver_jdbc}"/>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '003-002:Hostname:antinstaller_dbhost', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_dbhost}"/>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '003-003:Porta:antinstaller_dbport', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_dbport}"/>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '003-004:Nome Database:antinstaller_dbname', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_dbname}"/>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '003-005:Username:antinstaller_dbusername', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_dbusername}"/>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '003-006:Password:antinstaller_dbpassword', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_dbpassword}"/>

		<if>
			<equals arg1="${antinstaller_tipo_database}" arg2="oracle"/>
			<then>
				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '003-007:Tipo Accesso:antinstaller_oracle_mode', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_oracle_mode}"/>
			</then>
		</if>

		<!-- Configurazione Utenze: 004 -->

		<if>
			<equals arg1="${antinstaller_modalita_installazione}" arg2="nuova"/>
			<then>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '004-000:sezione', 'Configurazione Utenze');
</concat>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '004-001:Username Amministratore (govwayConsole):antinstaller_pddconsole_username', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_pddconsole_username}"/>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '004-002:Password Amministratore (govwayConsole):antinstaller_pddconsole_password', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_pddconsole_password}"/>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '004-003:Username Amministratore (govwayMonitor):antinstaller_pddmonitor_username', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_pddmonitor_username}"/>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '004-004:Password Amministratore (govwayMonitor):antinstaller_pddmonitor_password', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_pddmonitor_password}"/>

			</then>
		</if>

		<!-- Configurazione Servizi: 005 -->

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '005-000:sezione', 'Configurazione Servizi');
</concat>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '005-001:API di Configurazione:antinstaller_rs_config', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_rs_config}"/>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '005-002:API di Monitoraggio:antinstaller_rs_monitor', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_rs_monitor}"/>

		<!-- Profili di Interoperabilità: 006 -->

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '006-000:sezione', 'Profili di Interoperabilità');
</concat>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '006-001:Profilo API Gateway:antinstaller_protocollo_trasparente', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_protocollo_trasparente}"/>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '006-002:Profilo ModIPA:antinstaller_protocollo_modipa', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_protocollo_modipa}"/>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '006-003:Profilo SPCoop:antinstaller_protocollo_spcoop', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_protocollo_spcoop}"/>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '006-004:Profilo eDelivery:antinstaller_protocollo_as4', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_protocollo_as4}"/>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '006-005:Profilo Fatturazione Elettronica:antinstaller_protocollo_sdi', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_protocollo_sdi}"/>

		<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '006-006:Soggetto:antinstaller_nomesoggetto', '@VALORE@');
</concat>
		<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_nomesoggetto}"/>

		<!-- Configurazione Avanzata: 007 -->

		<if>
			<equals arg1="${antinstaller_conf_avanzata_enabled}" arg2="true"/>
			<then>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '007-000:sezione', 'Configurazione Avanzata');
</concat>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '007-001:Presa in carico:antinstaller_stateful', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_stateful}"/>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '007-002:Contesto 'govwaySec':antinstaller_sec_container', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_sec_container}"/>

			</then>
		</if>

		<!-- Configurazione eDelivery (008,009,010) -->

		<if>
			<equals arg1="${antinstaller_protocollo_as4}" arg2="true"/>
			<then>

				<!-- Configurazione Profilo eDelivery (1/3): 008 -->

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '008-000:sezione', 'Configurazione Profilo eDelivery (1/3)');
</concat>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '008-001:Application Server:antinstaller_as4_as', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_as4_as}"/>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '008-002:DBMS:antinstaller_as4_tipo_database', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_as4_tipo_database}"/>

				<!-- Configurazione Profilo eDelivery (2/3): 009 -->

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '009-000:sezione', 'Configurazione Profilo eDelivery (2/3)');
</concat>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '009-001:Domibus MSH URL:antinstaller_as4_msh', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_as4_msh}"/>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '009-002:Domibus Backend WS URL:antinstaller_as4_backend', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_as4_backend}"/>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '009-003:Broker JMS Provider URL:antinstaller_as4_jms_url', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_as4_jms_url}"/>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '009-004:Broker JMS Username:antinstaller_as4_jms_username', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_as4_jms_username}"/>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '009-005:Broker JMS Password:antinstaller_as4_jms_password', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_as4_jms_password}"/>

				<!-- Configurazione Profilo eDelivery (3/3): 010 -->

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '010-000:sezione', 'Configurazione Profilo eDelivery (3/3)');
</concat>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '010-001:Driver JDBC:antinstaller_as4_driver_jdbc', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_as4_driver_jdbc}"/>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '010-002:Hostname:antinstaller_as4_dbhost', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_as4_dbhost}"/>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '010-003:Porta:antinstaller_as4_dbport', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_as4_dbport}"/>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '010-004:Nome Database:antinstaller_as4_dbname', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_as4_dbname}"/>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '010-005:Username:antinstaller_as4_dbusername', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_as4_dbusername}"/>

				<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '010-006:Password:antinstaller_as4_dbpassword', '@VALORE@');
</concat>
				<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_as4_dbpassword}"/>

				<if>
					<equals arg1="${antinstaller_as4_tipo_database}" arg2="oracle"/>
					<then>
						<concat destfile="${tmp_sql}/InstallerProperties.sql" append="yes" >INSERT INTO generic_property (id_props, nome, valore) VALUES (@ID_PROPERTIES@, '010-007:Tipo Accesso:antinstaller_as4_oracle_mode', '@VALORE@');
</concat>
						<replace file="${fileSqlProps}" token="@VALORE@" value="${antinstaller_as4_oracle_mode}"/>
					</then>
				</if>

			</then>
		</if>



		<replace file="${fileSqlProps}" token="@ID_PROPERTIES@" value="${SELECT_ID}"/>
	
	</target>
		
</project>
