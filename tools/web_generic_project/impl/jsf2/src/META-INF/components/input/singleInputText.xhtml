
<!DOCTYPE ui:composition
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:op2web="http://www.openspcoop2.org/web/taglib/jsf2" xmlns:c="http://java.sun.com/jsp/jstl/core">

	<c:if test="#{empty required}">
		<c:set var="required" value="#{field.required}"/>
	</c:if>
	<c:if test="#{empty disabled}">
		<c:set var="disabled" value="#{field.disabled}"/>
	</c:if>
	

	<op2web:prop label="#{field.label}" required="#{field.required == 'true'}" rendered="#{field.rendered == 'true'}">
	
		<c:if test="#{field.autoComplete == 'true'}">
			<c:if test="#{not empty field.selectItemsWidth}">
				<style>
					.rf-au-lst-scrl {
						width: #{field.selectItemsWidth}px !important;
				 	}
				</style>
			</c:if>
			<a4j:outputPanel layout="block" id="#{field.name}ComboCtr">
				<rich:autocomplete id="input_#{field.name}Combo" value="#{field.value}" mode="ajax"   minChars="1" valueChangeListener="#{field.valueChanged}"
					 for="input_#{field.name}Combo"  styleClass="#{field.styleClass}" style="#{field.style}"
					 autocompleteMethod="#{field.fieldAutoComplete}" var="selectItem" fetchValue="#{selectItem.value}" execute="@this" nothingLabel="--" param="input_#{field.name}Combo">
					<h:column>
						<h:outputText value="#{selectItem.label}" rendered="true"/>
					</h:column>
					<a4j:ajax status="mainStatus" event="selectitem" rendered="#{!empty field.fieldsToUpdate}" execute="#{field.execute}"   render="#{field.fieldsToUpdate}"/>
				</rich:autocomplete>
			</a4j:outputPanel>
		</c:if>
		
		<c:if test="#{field.autoComplete == 'false'}">
			<h:inputText id="input_#{field.name}" value="#{field.value}" styleClass="#{field.styleClass}" style="#{field.style}" disabled="#{field.disabled}"/>
		</c:if>
	</op2web:prop>

</ui:composition>