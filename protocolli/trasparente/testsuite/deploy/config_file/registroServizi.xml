<registro-servizi xmlns="http://www.openspcoop2.org/core/registry"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.openspcoop2.org/core/registry registroServizi.xsd">



	<!-- **** Configurazione REST **** -->

        <accordo-servizio-parte-comune nome="EsempioREST" profilo-collaborazione="sincrono" 
		utilizzo-senza-azione="true" versione="1" service-binding="rest">
                    <soggetto-referente tipo="API" nome="MinisteroReferente"/>
		<resource nome="invoke" />
        </accordo-servizio-parte-comune>



	<!-- **** Configurazione SOAP **** -->

	<accordo-servizio-parte-comune nome="EsempioASParteComune" profilo-collaborazione="oneway" 
		utilizzo-senza-azione="true" versione="1" service-binding="soap">
                    <soggetto-referente tipo="API" nome="MinisteroReferente"/>
                    <port-type nome="Oneway" profilo-collaborazione="oneway">
                        <azione nome="notifica"/>
                        <azione nome="notificaLocalForward"/>
                        <azione nome="gestioneSOAPFault11"/>
                        <azione nome="gestioneSOAPFault12"/>
                        <azione nome="gestioneSOAPFault11_500"/>
                        <azione nome="gestioneSOAPFault12_500"/>
                    </port-type>
                    <port-type nome="Sincrono" profilo-collaborazione="sincrono">
                        <azione nome="aggiornamento"/>
                        <azione nome="aggiornamentoLocalForward"/>
                        <azione nome="gestioneSOAPFault11"/>
                        <azione nome="gestioneSOAPFault12"/>
                        <azione nome="gestioneSOAPFault11_500"/>
                        <azione nome="gestioneSOAPFault12_500"/>
                    </port-type>
	</accordo-servizio-parte-comune>

	<accordo-servizio-parte-comune nome="AS_MTOMExample" 
			     descrizione="Esempio di Servizio MTOMT"
			     versione="1"
			     profilo-collaborazione="sincrono"
			     wsdl-concettuale="/etc/openspcoop2/mtom/concettuale.wsdl"
			     wsdl-logico-erogatore="/etc/openspcoop2/mtom/logicoErogatore.wsdl"
			     service-binding="soap">
		<soggetto-referente tipo="API" nome="MinisteroErogatore" />
		<port-type nome="MTOMServiceExample" profilo-collaborazione="sincrono" descrizione="Esempio di servizio sincrono">
		   <azione nome="echo" />
		   <azione nome="packageUnpackage" />
		   <azione nome="unpackagePackage" />
		</port-type>
		<allegato tipo="XML" file="/etc/openspcoop2/mtom/MTOMExample.xsd"/>
	</accordo-servizio-parte-comune>






	<!-- Configurazione SOAP -->

    	<porta-dominio nome="PdDEsempioSoggettoTrasparenteBasic" client-auth="disabilitato"/>

	<porta-dominio nome="PdDEsempioSoggettoTrasparenteBasic2" client-auth="disabilitato"/>

	<porta-dominio nome="PdDEsempioSoggettoTrasparenteBasic3" client-auth="disabilitato"/>

	<porta-dominio nome="PdDEsempioSoggettoTrasparenteSsl" client-auth="disabilitato"/>

	<porta-dominio nome="PdDEsempioSoggettoTrasparenteSsl2" client-auth="disabilitato"/>

    	<porta-dominio nome="PdDEsempioSoggettoTrasparentePrincipal" client-auth="disabilitato"/>

	<porta-dominio nome="PdDEsempioSoggettoTrasparentePrincipal2" client-auth="disabilitato"/>


	<ruolo nome="role1AllAllOpenSPCoopTest" />
	<ruolo nome="role2ExtAllOpenSPCoopTest" tipologia="esterno" />
	<ruolo nome="role3AllPD_OpenSPCoopTest" contesto-utilizzo="portaDelegata" />
	<ruolo nome="role4AllPA_OpenSPCoopTest" contesto-utilizzo="portaApplicativa" />
	<ruolo nome="role5IntAllOpenSPCoopTest" tipologia="interno" />
	<ruolo nome="role6IntPD_OpenSPCoopTest" tipologia="interno" contesto-utilizzo="portaDelegata" />
	<ruolo nome="role7IntPA_OpenSPCoopTest" tipologia="interno" contesto-utilizzo="portaApplicativa" />
	<ruolo nome="role8ExtPD_OpenSPCoopTest" tipologia="esterno" contesto-utilizzo="portaDelegata" />
	<ruolo nome="role9ExtPA_OpenSPCoopTest" tipologia="esterno" contesto-utilizzo="portaApplicativa" />
	<ruolo nome="roleTerzaUtenzaAllOpenSPCoopTest" />
  


	<soggetto tipo="API" nome="EsempioSoggettoTrasparenteBasic" porta-dominio="PdDEsempioSoggettoTrasparenteBasic">

		<connettore tipo="disabilitato" nome="CNT_API_EsempioSoggettoTrasparenteBasic"/>

		<credenziali tipo="basic" user="esempioFruitoreTrasparenteBasic" password="123456" />
	
		<ruoli>
			  <ruolo nome="role1AllAllOpenSPCoopTest"/> 
			  <ruolo nome="role4AllPA_OpenSPCoopTest"/>  
			  <ruolo nome="role5IntAllOpenSPCoopTest"/>
		</ruoli>

	</soggetto>

	<soggetto tipo="API" nome="EsempioSoggettoTrasparenteBasic2" porta-dominio="PdDEsempioSoggettoTrasparenteBasic2">
    
		<connettore tipo="disabilitato" nome="CNT_API_EsempioSoggettoTrasparenteBasic2"/>

		<credenziali tipo="basic" user="esempioFruitoreTrasparenteBasic2" password="123456" />
	
	</soggetto>

	<soggetto tipo="API" nome="EsempioSoggettoTrasparenteBasic3" porta-dominio="PdDEsempioSoggettoTrasparenteBasic3">
    
		<connettore tipo="disabilitato" nome="CNT_API_EsempioSoggettoTrasparenteBasic3"/>

		<credenziali tipo="basic" user="esempioFruitoreTrasparenteBasic3" password="123456" />
	
		<ruoli>
			  <ruolo nome="roleTerzaUtenzaAllOpenSPCoopTest"/> 
		</ruoli>

	</soggetto>

	<soggetto tipo="API" nome="EsempioSoggettoTrasparenteSsl" porta-dominio="PdDEsempioSoggettoTrasparenteSsl">
    
		<connettore tipo="disabilitato" nome="CNT_API_EsempioSoggettoTrasparenteSsl"/>

		<credenziali tipo="ssl" subject="CN=client,OU=trasparente, O=openspcoop.org, L=Pisa, ST=Italy, C=IT, EMAILADDRESS=apoli@link.it" />
	
	</soggetto>

	<soggetto tipo="API" nome="EsempioSoggettoTrasparenteSsl2" porta-dominio="PdDEsempioSoggettoTrasparenteSsl2">
    
		<connettore tipo="disabilitato" nome="CNT_API_EsempioSoggettoTrasparenteSsl2"/>

		<credenziali tipo="ssl" subject="CN=client2,OU=trasparente, O=openspcoop.org, L=Pisa, ST=Italy, C=IT, EMAILADDRESS=apoli@link.it" />
	
	</soggetto>


	<!-- Utente configurato sul container con password 'Op3nSPC@@p2' e ruoli: 
		'role1AllAllOpenSPCoopTest', 'role2ExtAllOpenSPCoopTest' e 'role4AllPA_OpenSPCoopTest' -->
	<soggetto tipo="API" nome="EsempioSoggettoTrasparentePrincipal" porta-dominio="PdDEsempioSoggettoTrasparentePrincipal">
    
		<connettore tipo="disabilitato" nome="CNT_API_EsempioSoggettoTrasparentePrincipal"/>

		<credenziali tipo="principal" user="esempioFruitoreTrasparentePrincipal" />

		<ruoli>
			<ruolo nome="role1AllAllOpenSPCoopTest"/> 
			<ruolo nome="role5IntAllOpenSPCoopTest"/>
			<ruolo nome="role4AllPA_OpenSPCoopTest"/>  
	    	</ruoli>
	
	</soggetto>

	<!-- Utente configurato sul container con password 'Op3nSPC@@p2' e ruoli: 
		'role1AllAllOpenSPCoopTest' e 'role9ExtPA_OpenSPCoopTest' -->
	<soggetto tipo="API" nome="EsempioSoggettoTrasparentePrincipal2" porta-dominio="PdDEsempioSoggettoTrasparentePrincipal2">
    
		<connettore tipo="disabilitato" nome="CNT_API_EsempioSoggettoTrasparentePrincipal2"/>

		<credenziali tipo="principal" user="esempioFruitoreTrasparentePrincipal2" />
	
		<ruoli>
			<ruolo nome="role1AllAllOpenSPCoopTest"/> 
			<ruolo nome="role7IntPA_OpenSPCoopTest"/> 
	    	</ruoli>

	</soggetto>



	<soggetto tipo="API" nome="applicativoComunePisa" identificativo-porta="applicativoComunePisaPdD">
    
		<connettore tipo="disabilitato" nome="CNT_API_applicativoComunePisa"/>

		<credenziali tipo="basic" user="applicativoComunePisa" password="123456" />

	</soggetto>

	<soggetto tipo="API" nome="MinisteroReferente" identificativo-porta="MinisteroReferentePdD">

    		<connettore tipo="disabilitato" nome="CNT_API_MinisteroReferente"/>

	</soggetto>

	<soggetto tipo="API" nome="MinisteroFruitore" identificativo-porta="MinisteroFruitorePdD">
    
		<connettore tipo="disabilitato" nome="CNT_API_MinisteroFruitore"/>

		<credenziali tipo="basic" user="MinisteroFruitore" password="123456" />
	
	</soggetto>

	<soggetto tipo="API" nome="MinisteroErogatore" identificativo-porta="MinisteroErogatorePdD">
		
		<connettore tipo="disabilitato" nome="CNT_API_MinisteroErogatore"/>


		<!-- **** Configurazione REST **** -->

                <accordo-servizio-parte-specifica tipo="REST" nome="API" versione="1" accordo-servizio-parte-comune="API/MinisteroReferente:EsempioREST:1">
		        <configurazione-servizio>
		                <connettore tipo="http" nome="CNT_API/MinisteroErogatore_REST/API">
		                        <property nome="location" valore="http://localhost:8080/OpenSPCoop2TestSuite/api?traceIsArrived=mittente"/>
		                </connettore>
		        </configurazione-servizio>
                </accordo-servizio-parte-specifica>


		<!-- **** Configurazione SOAP **** -->

		<accordo-servizio-parte-specifica tipo="SOAP" nome="Oneway" versione="1" 
			accordo-servizio-parte-comune="API/MinisteroReferente:EsempioASParteComune:1" port-type="Oneway">
			<configurazione-servizio>
			        <connettore tipo="http" nome="CNT_API/MinisteroErogatore_SOAP/Oneway">
			            <property nome="location" valore="http://localhost:8080/OpenSPCoop2TestSuite/pingService?traceIsArrived=mittente"/>
			        </connettore>
			</configurazione-servizio>
		</accordo-servizio-parte-specifica>

                <accordo-servizio-parte-specifica tipo="SOAP" nome="Sincrono" versione="1" 
			accordo-servizio-parte-comune="API/MinisteroReferente:EsempioASParteComune:1" port-type="Sincrono">
                        <configurazione-servizio>
                                <connettore tipo="http" nome="CNT_API/MinisteroErogatore_SOAP/Sincrono">
                                    <property nome="location" valore="http://localhost:8080/OpenSPCoop2TestSuite/echoService?traceIsArrived=mittente"/>
                                </connettore>
                        </configurazione-servizio>
			<specifica-sicurezza tipo="XACML-Policy" file="/etc/openspcoop2/testfiles/OpenSPCoop2TestSuitePolicy.xml"/>
		</accordo-servizio-parte-specifica>

		<accordo-servizio-parte-specifica tipo="SOAP" nome="MTOMServiceExampleSOAP11" versione="1" 
			 accordo-servizio-parte-comune="API/MinisteroErogatore:AS_MTOMExample:1" port-type="MTOMServiceExample"
			 descrizione="Esempio di accordo di servizio parte specifica (Sincrono) per binding SOAP11"
			 wsdl-implementativo-erogatore="/etc/openspcoop2/mtom/implementazioneErogatoreSoap11.wsdl">
			<configurazione-servizio>
		             <connettore tipo="http" nome="Connettore">
		                 <property nome="location" valore="http://localhost:65000/MTOMExample/soap11" />
		             </connettore>

			     <configurazione-azione nome="unpackagePackage">
				    <connettore tipo="http" nome="unpackagePackage">
				        <property nome="location"
				            valore="http://localhost:8080/OpenSPCoop2TestSuite/echoService?replace=echo:echoResponse,richiesta:risposta,ImageData:ImageDataResponse,other:otherResponse"
				        />
				    </connettore>
			     </configurazione-azione>
			</configurazione-servizio> 
		</accordo-servizio-parte-specifica>

		<accordo-servizio-parte-specifica tipo="SOAP" nome="MTOMServiceExampleSOAP12" versione="1" 
		         accordo-servizio-parte-comune="API/MinisteroErogatore:AS_MTOMExample:1" port-type="MTOMServiceExample"
		         descrizione="Esempio di accordo di servizio parte specifica (Sincrono) per binding SOAP12"
		         wsdl-implementativo-erogatore="/etc/openspcoop2/mtom/implementazioneErogatoreSoap12.wsdl">
			<configurazione-servizio>
		             <connettore tipo="http" nome="Connettore">
		                 <property nome="location" valore="http://localhost:65001/MTOMExample/soap12" />
		             </connettore>

			     <configurazione-azione nome="unpackagePackage">
				    <connettore tipo="http" nome="unpackagePackage">
				        <property nome="location"
				            valore="http://localhost:8080/OpenSPCoop2TestSuite/echoService?replace=echo:echoResponse,richiesta:risposta,ImageData:ImageDataResponse,other:otherResponse"
				        />
				    </connettore>
			     </configurazione-azione>
			</configurazione-servizio>
		</accordo-servizio-parte-specifica>

	</soggetto>

	<soggetto tipo="API" nome="MinisteroErogatoreEsterno" identificativo-porta="MinisteroErogatoreEsternoPdD">
    
		<connettore tipo="disabilitato" nome="CNT_API_MinisteroErogatoreEsterno"/>


		<!-- **** Configurazione SOAP **** -->

                <accordo-servizio-parte-specifica tipo="SOAP" nome="Oneway" versione="1" 
			accordo-servizio-parte-comune="API/MinisteroReferente:EsempioASParteComune:1" port-type="Oneway">
                        <configurazione-servizio>
                                <connettore tipo="http" nome="CNT_API/MinisteroErogatore_SOAP/Oneway">
                                    <property nome="location" valore="http://localhost:8080/OpenSPCoop2TestSuite/pingService?traceIsArrived=mittente"/>
                                </connettore>
                        </configurazione-servizio>
			<fruitore tipo="API" nome="ClientSoapFault11">
			    <connettore tipo="http" nome="CNT_SF_API/ClientSoapFault11_SOAP/MinisteroErogatoreEsterno_SOAP/Oneway">
			        <property nome="location" valore="http://localhost:8080/OpenSPCoop2TestSuite/pingService?fault=true&amp;traceIsArrived=mittente"/>
			    </connettore>
			</fruitore>
			<fruitore tipo="API" nome="ClientSoapFault11500">
			    <connettore tipo="http" nome="CNT_SF_API/ClientSoapFault11500_SOAP/MinisteroErogatoreEsterno_SOAP/Oneway">
			        <property nome="location" valore="http://localhost:8080/OpenSPCoop2TestSuite/pingService?fault=true&amp;returnCode=500&amp;traceIsArrived=mittente"/>
			    </connettore>
			</fruitore>
			<fruitore tipo="API" nome="ClientSoapFault12">
			    <connettore tipo="http" nome="CNT_SF_API/ClientSoapFault12_SOAP/MinisteroErogatoreEsterno_SOAP/Oneway">
			        <property nome="location" valore="http://localhost:8080/OpenSPCoop2TestSuite/pingService?fault=true&amp;faultSoapVersion=12&amp;traceIsArrived=mittente"/>
			    </connettore>
			</fruitore>
			<fruitore tipo="API" nome="ClientSoapFault12500">
			    <connettore tipo="http" nome="CNT_SF_API/ClientSoapFault12500_SOAP/MinisteroErogatoreEsterno_SOAP/Oneway">
			        <property nome="location" valore="http://localhost:8080/OpenSPCoop2TestSuite/pingService?fault=true&amp;faultSoapVersion=12&amp;returnCode=500&amp;traceIsArrived=mittente"/>
			    </connettore>
			</fruitore>
                </accordo-servizio-parte-specifica>

                <accordo-servizio-parte-specifica tipo="SOAP" nome="Sincrono" versione="1" 
			accordo-servizio-parte-comune="API/MinisteroReferente:EsempioASParteComune:1" port-type="Sincrono">
                        <configurazione-servizio>
                                <connettore tipo="http" nome="CNT_API/MinisteroErogatore_SOAP/Sincrono">
                                    <property nome="location" valore="http://localhost:8080/OpenSPCoop2TestSuite/echoService?traceIsArrived=mittente"/>
                                </connettore>
                        </configurazione-servizio>
                        <fruitore tipo="API" nome="ClientSoapFault11">
                            <connettore tipo="http" nome="CNT_SF_API/ClientSoapFault11_SOAP/MinisteroErogatoreEsterno_SOAP/Sincrono">
                                <property nome="location" valore="http://localhost:8080/OpenSPCoop2TestSuite/echoService?fault=true&amp;traceIsArrived=mittente"/>
                            </connettore>
                        </fruitore>
                        <fruitore tipo="API" nome="ClientSoapFault11500">
                            <connettore tipo="http" nome="CNT_SF_API/ClientSoapFault11500_SOAP/MinisteroErogatoreEsterno_SOAP/Sincrono">
                                <property nome="location" valore="http://localhost:8080/OpenSPCoop2TestSuite/echoService?fault=true&amp;returnCode=500&amp;traceIsArrived=mittente"/>
                            </connettore>
                        </fruitore>
                        <fruitore tipo="API" nome="ClientSoapFault12">
                            <connettore tipo="http" nome="CNT_SF_API/ClientSoapFault12_SOAP/MinisteroErogatoreEsterno_SOAP/Sincrono">
                                <property nome="location" valore="http://localhost:8080/OpenSPCoop2TestSuite/echoService?fault=true&amp;faultSoapVersion=12&amp;traceIsArrived=mittente"/>
                            </connettore>
                        </fruitore>
                        <fruitore tipo="API" nome="ClientSoapFault12500">
                            <connettore tipo="http" nome="CNT_SF_API/ClientSoapFault12500_SOAP/MinisteroErogatoreEsterno_SOAP/Sincrono">
                                <property nome="location" valore="http://localhost:8080/OpenSPCoop2TestSuite/echoService?fault=true&amp;faultSoapVersion=12&amp;returnCode=500&amp;traceIsArrived=mittente"/>
                            </connettore>
                        </fruitore>
			<specifica-sicurezza tipo="XACML-Policy" file="/etc/openspcoop2/testfiles/OpenSPCoop2TestSuitePolicy.xml"/>
                </accordo-servizio-parte-specifica>
	
	</soggetto>

	<soggetto tipo="API" nome="ClientSoapFault11" identificativo-porta="ClientSoapFault11PdD">
    
		<connettore tipo="disabilitato" nome="CNT_API_ClientSoapFault11"/>
	
	</soggetto>

        <soggetto tipo="API" nome="ClientSoapFault11500" identificativo-porta="ClientSoapFault11500PdD"> 
    
                <connettore tipo="disabilitato" nome="CNT_API_ClientSoapFault11500"/>
        
        </soggetto>

        <soggetto tipo="API" nome="ClientSoapFault12" identificativo-porta="ClientSoapFault12PdD"> 
    
                <connettore tipo="disabilitato" nome="CNT_API_ClientSoapFault12"/>
        
        </soggetto>

        <soggetto tipo="API" nome="ClientSoapFault12500" identificativo-porta="ClientSoapFault12500PdD"> 
    
                <connettore tipo="disabilitato" nome="CNT_API_ClientSoapFault12500"/>
        
        </soggetto>




</registro-servizi>
