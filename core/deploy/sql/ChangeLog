2019-05-13  Andrea Poli <apoli@link.it>

	Classificate policy in built-in e utente:
	ALTER TABLE ct_config_policy ADD COLUMN policy_built_in BOOLEAN NOT NULL DEFAULT false;

2019-02-12  Andrea Poli <apoli@link.it>

	Aggiunta possibilità di associare delle proprietà generica ai meccanismi di autenticazione.
	Nuove tabelle:
	- pa_auth_properties
	- pd_auth_properties

	Aggiunte funzionalità più evolute su regole di caching della risposta.
	Nuove tabelle: 
	- config_cache_regole
	- pa_cache_regole
	- pd_cache_regole
	Nuove colonne:
	ALTER TABLE configurazione ADD COLUMN response_cache_hash_hdr_list TEXT; 
	ALTER TABLE configurazione ADD COLUMN response_cache_control_nocache INT;
	ALTER TABLE configurazione ADD COLUMN response_cache_control_maxage INT;
	ALTER TABLE configurazione ADD COLUMN response_cache_control_nostore INT;
	ALTER TABLE porte_applicative ADD COLUMN response_cache_hash_hdr_list TEXT; 
	ALTER TABLE porte_applicative ADD COLUMN response_cache_control_nocache INT;
	ALTER TABLE porte_applicative ADD COLUMN response_cache_control_maxage INT;
	ALTER TABLE porte_applicative ADD COLUMN response_cache_control_nostore INT;
	ALTER TABLE porte_delegate ADD COLUMN response_cache_hash_hdr_list TEXT; 
	ALTER TABLE porte_delegate ADD COLUMN response_cache_control_nocache INT;
	ALTER TABLE porte_delegate ADD COLUMN response_cache_control_maxage INT;
	ALTER TABLE porte_delegate ADD COLUMN response_cache_control_nostore INT;

	Aggiunta gestione delle trasformazioni dei messaggi.
	Nuove tabelle:
	- pa_transform
	- pa_transform_hdr
	- pa_transform_url
	- pa_transform_risp
	- pa_transform_risp_hdr
	- pd_transform
	- pd_transform_hdr
	- pd_transform_url
	- pd_transform_risp
	- pd_transform_risp_hdr

2019-02-01  Andrea Poli <apoli@link.it>

	Aggiunta gestione certificato X509 e Issue

	ALTER TABLE transazioni ALTER COLUMN credenziali TYPE TEXT;

	ALTER TABLE servizi_applicativi ALTER COLUMN utente TYPE VARCHAR(2800);
	ALTER TABLE servizi_applicativi ALTER COLUMN subject TYPE VARCHAR(2800);
	ALTER TABLE servizi_applicativi ADD COLUMN cn_subject VARCHAR(255);
	ALTER TABLE servizi_applicativi ADD COLUMN issuer VARCHAR(2800);
	ALTER TABLE servizi_applicativi ADD COLUMN cn_issuer VARCHAR(255);
	ALTER TABLE servizi_applicativi ADD COLUMN certificate BLOB;
	ALTER TABLE servizi_applicativi ADD COLUMN cert_strict_verification INT;

	ALTER TABLE soggetti ALTER COLUMN utente TYPE VARCHAR(2800);
	ALTER TABLE soggetti ALTER COLUMN subject TYPE VARCHAR(2800);
	ALTER TABLE soggetti ADD COLUMN cn_subject VARCHAR(255);
	ALTER TABLE soggetti ADD COLUMN issuer VARCHAR(2800);
	ALTER TABLE soggetti ADD COLUMN cn_issuer VARCHAR(255);
	ALTER TABLE soggetti ADD COLUMN certificate BLOB;
	ALTER TABLE soggetti ADD COLUMN cert_strict_verification INT;

2018-11-21  Andrea Poli <apoli@link.it>

	Aggiunta gestione CORS e Response Caching

	-- Gestione CORS in PorteDelegate
	ALTER TABLE porte_delegate ADD COLUMN cors_stato VARCHAR(255);
	ALTER TABLE porte_delegate ADD COLUMN cors_tipo VARCHAR(255);
	ALTER TABLE porte_delegate ADD COLUMN cors_all_allow_origins VARCHAR(255);
	ALTER TABLE porte_delegate ADD COLUMN cors_allow_credentials VARCHAR(255);
	ALTER TABLE porte_delegate ADD COLUMN cors_allow_max_age INT;
	ALTER TABLE porte_delegate ADD COLUMN cors_allow_max_age_seconds INT;
	ALTER TABLE porte_delegate ADD COLUMN cors_allow_origins TEXT;
	ALTER TABLE porte_delegate ADD COLUMN cors_allow_headers TEXT;
	ALTER TABLE porte_delegate ADD COLUMN cors_allow_methods TEXT;
	ALTER TABLE porte_delegate ADD COLUMN cors_allow_expose_headers TEXT;

	-- Response caching in PorteDelegate
	ALTER TABLE porte_delegate ADD COLUMN response_cache_stato VARCHAR(255);
	ALTER TABLE porte_delegate ADD COLUMN response_cache_seconds INT;
	ALTER TABLE porte_delegate ADD COLUMN response_cache_max_msg_size BIGINT;
	ALTER TABLE porte_delegate ADD COLUMN response_cache_hash_url VARCHAR(255);
	ALTER TABLE porte_delegate ADD COLUMN response_cache_hash_headers VARCHAR(255);
	ALTER TABLE porte_delegate ADD COLUMN response_cache_hash_payload VARCHAR(255);

	-- Gestione CORS in PorteApplicative
	ALTER TABLE porte_applicative ADD COLUMN cors_stato VARCHAR(255);
	ALTER TABLE porte_applicative ADD COLUMN cors_tipo VARCHAR(255);
	ALTER TABLE porte_applicative ADD COLUMN cors_all_allow_origins VARCHAR(255);
	ALTER TABLE porte_applicative ADD COLUMN cors_allow_credentials VARCHAR(255);
	ALTER TABLE porte_applicative ADD COLUMN cors_allow_max_age INT;
	ALTER TABLE porte_applicative ADD COLUMN cors_allow_max_age_seconds INT;
	ALTER TABLE porte_applicative ADD COLUMN cors_allow_origins TEXT;
	ALTER TABLE porte_applicative ADD COLUMN cors_allow_headers TEXT;
	ALTER TABLE porte_applicative ADD COLUMN cors_allow_methods TEXT;
	ALTER TABLE porte_applicative ADD COLUMN cors_allow_expose_headers TEXT;

	-- Response caching in PorteApplicative
	ALTER TABLE porte_applicative ADD COLUMN response_cache_stato VARCHAR(255);
	ALTER TABLE porte_applicative ADD COLUMN response_cache_seconds INT;
	ALTER TABLE porte_applicative ADD COLUMN response_cache_max_msg_size BIGINT;
	ALTER TABLE porte_applicative ADD COLUMN response_cache_hash_url VARCHAR(255);
	ALTER TABLE porte_applicative ADD COLUMN response_cache_hash_headers VARCHAR(255);
	ALTER TABLE porte_applicative ADD COLUMN response_cache_hash_payload VARCHAR(255);

	-- Gestione CORS
	ALTER TABLE configurazione ADD COLUMN cors_stato VARCHAR(255);
	ALTER TABLE configurazione ADD COLUMN cors_tipo VARCHAR(255);
	ALTER TABLE configurazione ADD COLUMN cors_all_allow_origins VARCHAR(255);
	ALTER TABLE configurazione ADD COLUMN cors_allow_credentials VARCHAR(255);
	ALTER TABLE configurazione ADD COLUMN cors_allow_max_age INT;
	ALTER TABLE configurazione ADD COLUMN cors_allow_max_age_seconds INT;
	ALTER TABLE configurazione ADD COLUMN cors_allow_origins TEXT;
	ALTER TABLE configurazione ADD COLUMN cors_allow_headers TEXT;
	ALTER TABLE configurazione ADD COLUMN cors_allow_methods TEXT;
	ALTER TABLE configurazione ADD COLUMN cors_allow_expose_headers TEXT;

	-- Response caching
	ALTER TABLE configurazione ADD COLUMN response_cache_stato VARCHAR(255);
	ALTER TABLE configurazione ADD COLUMN response_cache_seconds INT;
	ALTER TABLE configurazione ADD COLUMN response_cache_max_msg_size BIGINT;
	ALTER TABLE configurazione ADD COLUMN response_cache_hash_url VARCHAR(255);
	ALTER TABLE configurazione ADD COLUMN response_cache_hash_headers VARCHAR(255);
	ALTER TABLE configurazione ADD COLUMN response_cache_hash_payload VARCHAR(255);

	-- Cache per il response caching
	ALTER TABLE configurazione ADD COLUMN response_cache_statocache VARCHAR(255);
	ALTER TABLE configurazione ADD COLUMN response_cache_dimensionecache VARCHAR(255);
	ALTER TABLE configurazione ADD COLUMN response_cache_algoritmocache VARCHAR(255);
	ALTER TABLE configurazione ADD COLUMN response_cache_idlecache VARCHAR(255);
	ALTER TABLE configurazione ADD COLUMN response_cache_lifecache VARCHAR(255);

2018-10-16  Andrea Poli <apoli@link.it>

	Aggiunta configurazione per personalizzare le informazioni salvate in una transazione.
	Allo stato attuale e' possibile indicare il salvataggio:
	- tempi di attraversamento delle funzionalità dell'API Gateway
	- informazione del token
	ALTER TABLE configurazione ADD COLUMN transazioni_tempi VARCHAR(255);
	ALTER TABLE configurazione ADD COLUMN transazioni_token VARCHAR(255);

	Aggiunta colonna nella tabella transazioni che conserva i tempi di attraversamento 
	delle funzionalità dell'API Gateway
	ALTER TABLE transazioni ADD COLUMN tempi_elaborazione VARCHAR(4000);

2018-09-24  Andrea Poli <apoli@link.it>

	Aggiunta indicazione sul dominio di default per protocollo sul soggetto:
	ALTER TABLE soggetti ADD COLUMN INT DEFAULT 0;

	Aggiunta gestione multitenant nella configurazione:
	ALTER TABLE configurazione ADD COLUMN multitenant_stato VARCHAR(255); 
	ALTER TABLE configurazione ADD COLUMN multitenant_fruizioni VARCHAR(255);
	ALTER TABLE configurazione ADD COLUMN multitenant_erogazioni VARCHAR(255);

	Aggiunta funzionalità di autorizzazione degli applicativi nelle porte applicative:
	CREATE TABLE porte_applicative_sa_auth
	(
	       id_porta BIGINT NOT NULL,
	       id_servizio_applicativo BIGINT NOT NULL,
	       ...
	);

2017-11-28  Andrea Poli <apoli@link.it>

	Creato file ChangeLog
