<ui:component xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:op2web="http://www.openspcoop2.org/web/taglib/jsf2">
	<f:loadBundle var="commonsMsg" basename="commonsMessages" />

	<c:set var="formId" value="#{searchBean.idForm}" />
	<c:set var="isClosable" value="#{searchBean.closable}" />
	<c:set var="formTitle" value="#{searchBean.nomeForm}" />
	<c:set var="rendered" value="#{searchBean.rendered}" />

	<c:if
		test="#{isClosable == false and empty formTitle and rendered == true}">
		<div class="form-container noborder">
			<h:form id="#{formId}" prependId="false">
				<p:panel id="#{formId}_searchPnl" styleClass="noborder nobackground"  >

					<ui:insert />

				</p:panel>
				<h:panelGroup layout="block" styleClass="buttonrow">
					<ui:insert name="buttons" />
				</h:panelGroup>
			</h:form>
		</div>
	</c:if>

	<c:if
		test="#{isClosable == false and !empty formTitle and rendered == true}">
		<p:panel id="panel_#{formId}" styleClass="inpanelBody"
			header="#{formTitle}">

			<div class="form-container noborder">
				<h:form id="#{formId}" prependId="false">
					<p:panel id="#{formId}_searchPnl" styleClass="noborder nobackground" >

						<ui:insert />

					</p:panel>
					<h:panelGroup layout="block" styleClass="buttonrow">
						<ui:insert name="buttons" />
					</h:panelGroup>
				</h:form>
			</div>
		</p:panel>
	</c:if>

	<c:if
		test="#{isClosable == true and empty formTitle and rendered == true}">
		<p:panel id="panel_#{formId}" toggleable="true" toggleSpeed="500"
			closeSpeed="500" header="#{commonsMsg['ricerca.header']}"
			styleClass="inpanelBody">

			<div class="form-container noborder">
				<h:form id="#{formId}" prependId="false">
					<p:panel id="#{formId}_searchPnl" styleClass="noborder nobackground" >

						<ui:insert />

					</p:panel>
					<h:panelGroup layout="block" styleClass="buttonrow">
						<ui:insert name="buttons" />
					</h:panelGroup>
				</h:form>
			</div>
		</p:panel>
	</c:if>

	<c:if
		test="#{isClosable == true and !empty formTitle and rendered == true}">
		<p:panel id="panel_#{formId}" toggleable="true" toggleSpeed="500"
			closeSpeed="500" header="#{formTitle}" styleClass="inpanelBody">

			<div class="form-container noborder">
				<h:form id="#{formId}" prependId="false">
					<p:panel id="#{formId}_searchPnl" styleClass="noborder nobackground" >

						<ui:insert />

					</p:panel>
					<h:panelGroup layout="block" styleClass="buttonrow">
						<ui:insert name="buttons" />
					</h:panelGroup>
				</h:form>
			</div>
		</p:panel>
	</c:if>


</ui:component>