<registro-servizi xmlns="http://www.openspcoop2.org/core/registry"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.openspcoop2.org/core/registry registroServizi.xsd">


    <accordo-servizio-parte-comune nome="SoapExample" profilo-collaborazione="oneway"
        utilizzo-senza-azione="false" versione="1" service-binding="soap">
	<soggetto-referente tipo="AS4" nome="Blue" />
        <port-type nome="GestioneFileSOAP" profilo-collaborazione="oneway">
            <azione nome="testXml">
		<protocol-property name="ebmsActionPayloadProfile" value="XmlProfile"/>
		<protocol-property name="ebmsActionCompressPayload" value="true"/>
	    </azione>
	    <azione nome="test">
		<protocol-property name="ebmsActionCompressPayload" value="true"/>
	    </azione>
        </port-type>
	<protocol-property name="ebmsUserMessageCollaborationInfoService" value="bdx:noprocess" />
	<protocol-property name="ebmsUserMessageCollaborationInfoServiceType" value="TEST-SOAP" />
	<protocol-property name="ebmsServicePayloadProfile" file="/etc/openspcoop2/as4/payloadProfiles/test.xml"/>
    </accordo-servizio-parte-comune>

    <accordo-servizio-parte-comune nome="RestExample" profilo-collaborazione="oneway"
        utilizzo-senza-azione="false" versione="1" service-binding="rest">
	<soggetto-referente tipo="AS4" nome="Blue" />
        <resource nome="test">
	    <protocol-property name="ebmsActionCompressPayload" value="false"/>
        </resource>
        <resource nome="test2" method="GET">
            <protocol-property name="ebmsActionCompressPayload" value="false"/>
        </resource>
	<protocol-property name="ebmsUserMessageCollaborationInfoService" value="bdx:noprocess" />
	<protocol-property name="ebmsUserMessageCollaborationInfoServiceType" value="TEST-REST" />
    </accordo-servizio-parte-comune>


    <!-- Soggetto Mittente degli esempi -->
    <soggetto tipo="AS4" nome="Red">

        <connettore tipo="http" nome="PdDRed">
            <property nome="location" valore="http://localhost:9080/domibus/services/backend"/>
        </connettore>

	<protocol-property name="ebmsUserMessagePartyId" value="domibus-red" />
	<protocol-property name="ebmsUserMessagePartyIdTypeName" value="partyTypeUrn" />
	<protocol-property name="ebmsUserMessagePartyIdTypeValue" value="urn:oasis:names:tc:ebcore:partyid-type:unregistered" />

    </soggetto>


    <!-- Soggetto Destinatario degli esempi -->
    <soggetto tipo="AS4" nome="Blue" >

        <connettore tipo="http" nome="PdDBlue">
            <property nome="location" valore="http://localhost:8080/domibus/services/backend"/>
        </connettore>

	<protocol-property name="ebmsUserMessagePartyId" value="domibus-blue" />
	<protocol-property name="ebmsUserMessagePartyIdTypeName" value="partyTypeUrn" />
	<protocol-property name="ebmsUserMessagePartyIdTypeValue" value="urn:oasis:names:tc:ebcore:partyid-type:unregistered" />

        <accordo-servizio-parte-specifica tipo="AS4" nome="SoapExample"
            accordo-servizio-parte-comune="AS4/Blue:SoapExample:1"
	    port-type="GestioneFileSOAP">
            <fruitore tipo="AS4" nome="Red"/>
	    <protocol-property name="ebmsSecurityProfile" value="eDeliveryPolicy" />
        </accordo-servizio-parte-specifica>

	<accordo-servizio-parte-specifica tipo="AS4" nome="RestExample"
            accordo-servizio-parte-comune="AS4/Blue:RestExample:1">
            <fruitore tipo="AS4" nome="Red"/>
	    <protocol-property name="ebmsSecurityProfile" value="eSensPolicy" />
        </accordo-servizio-parte-specifica>

    </soggetto>

</registro-servizi>
